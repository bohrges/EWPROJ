extends layout

block content
  header.w3-container
    h1= titulo

  main.w3-container

    // Search form
    form.w3-margin(action="/search", method="get")
      select.w3-select.w3-border(name="searchType")
        option(value="name", selected) Name
        option(value="date") Year
        option(value="location") Location
        option(value="county") County
        option(value="district") District
      input.w3-input.w3-border(type="text", name="searchValue", placeholder="Enter search value")
      button.w3-button.w3-margin-right(type="submit") Search
      a.w3-button(href="/") Clear

    // New sorting form
    form.w3-margin(action="/sort", method="get")
      select.w3-select.w3-border(name="sortBy")
        option(value="name") Name (A-Z)
        option(value="nameDesc") Name (Z-A)
        option(value="year") Year (Ascending)
        option(value="yearDesc") Year (Descending)
        option(value="location") Location (A-Z)
        option(value="locationDesc") Location (Z-A)
      button.w3-button.w3-margin-right(type="submit") Sort
      
    // Info
    table.w3-table.w3-striped.w3-bordered
      thead
        tr
          th Process ID
          th Name
          th Date
          th Location
          th County
          th District
      tbody
        each record in generes
          tr
            td
              a(href=`/${record._id}`) #{record._id}
            td #{record.Name}
            td #{record.UnitDateFinal}
            td #{record.Lugar}
            td #{record.Concelho}
            td #{record.Distrito}

    if totalPages > 1
      div.navigation
        p Page #{page + 1} of #{totalPages}
        if page > 0
          a.w3-button.w3-margin-right(href=previousPageURL) Previous
        if page < totalPages - 1
          a.w3-button(href=nextPageURL) Next

  footer.w3-container.w3-grey
    address Generated by Grupo12::EngWeb2024 on #{data}
